<!-- csv-table.component.html -->
<div class="contaiener">

    <mat-card appearance="outlined" class="title-card">
        <mat-card-header>
          <mat-card-title class="card-title"> Student Details </mat-card-title>
        </mat-card-header>
    </mat-card>

    <table mat-table [dataSource]="csvData" class="mat-elevation-z8">
        <ng-container *ngFor="let column of headers; let i = index">
          <ng-container matColumnDef="{{ column }}">
            <th mat-header-cell *matHeaderCellDef>{{ column | titlecase }}</th>
            <td mat-cell *matCellDef="let element; let rowIndex = index">
              <ng-container>
                <div class="cell-wrapper">
                    <input matInput class="input-field" [formControl]="getControl(formGroups[rowIndex].controls[column])"/>
                    <mat-error *ngIf="formGroups[rowIndex].controls[column].errors">
                        <span class="error">{{ getControlErrors(column, rowIndex) }}</span>
                    </mat-error>
                </div>
              </ng-container>
            </td>
          </ng-container>
        </ng-container>`
    
        <tr mat-header-row *matHeaderRowDef="headers"></tr>
        <tr mat-row *matRowDef="let row; columns: headers; let i = index;"
          [formGroup]="formGroups[i]"></tr>
      </table>

      <div class="summery">
        <button mat-raised-button (click)="viewSummery()">View Import Summery</button>
      </div>

  </div>